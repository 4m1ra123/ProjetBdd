<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Font Awesome library -->
  <link rel="stylesheet" href="all.min.css" />
  <!-- My Framework CSS File -->
  <link rel="stylesheet" href="framework.css" />
  <!-- Main CSS File -->
  <link rel="stylesheet" href="master.css" />
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;500&display=swap" rel="stylesheet" />
  <link href="counter.css" rel="stylesheet">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0.0/jquery.counterup.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<link href="pagination.css" rel="stylesheet">  
<link href="style.css" rel="stylesheet">
<title>Events Page</title>
<style>
    .unstyled-list {
        list-style-type: none;
        padding: 0;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
    }

    svg{
      margin-bottom: 5px;
      margin-right: 3px;
    }

  .sidebar{
    text-decoration: none;
  }

  .globe{
  color: black;
  &:hover{
    color: #AE9775;
  }
  }
  
  #descEvent {
      max-width: 200px; /* ajustez la largeur maximale selon vos besoins */
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      float: left; /* Ajout de float: left pour aligner le texte à gauche */
    }
 
    .clear {
      clear: both;
    }

    #showMoreBtn {
   cursor: pointer;
   color: #A9AFB8;
   text-decoration: none;
}

.description-truncated {
   max-width: 200px; /* ajustez la largeur maximale selon vos besoins */
   overflow: hidden;
   text-overflow: ellipsis;
   white-space: nowrap;
   float: left;
}

#modifyForm input::placeholder {
    color: #808080; /* Remplacez cette couleur par celle que vous souhaitez utiliser */
}

#modifyForm textarea::placeholder {
    color: #808080; /* Remplacez cette couleur par celle que vous souhaitez utiliser pour les champs de texte multiligne */
}

#modifyForm input{
    margin: 10px;
}

.modification-form {
            display: none;
        }

</style>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">

</head>

<body>
  <div class="page d-flex">
    <!-- Start Sidebar -->
    <div class="sidebar bg-white p-20 p-relative">
     <h3 class="p-relative mt-0 txt-c"><img src="images/logonoir.png" style="width: 150px; height: 50px;"></h3>
      <ul>
        <li>
          <a class="d-flex align-center fs-14 c-black radius-6 p-10" href="index.html">
            <i class="bi bi-house"></i>
            <span>Home</span>
          </a>
        </li>
        <li>
          <a class=" active d-flex align-center fs-14 c-black radius-6 p-10" href="events.html">
            <i class="bi bi-balloon"></i>
              <span>Events</span>
            </a>
          </li>
          <li>
            <a class=" d-flex align-center fs-14 c-black radius-6 p-10" href="members.html">
              <i class="bi bi-people"></i>
              <span>Members</span>
          </a>
        </li>
        <li>
          <a class="d-flex align-center fs-14 c-black radius-6 p-10" href="appointments.html">
            <i class="bi bi-calendar4-event"></i>
            <span>Appointments</span>
          </a>
        </li>
        <li>
          <a class="d-flex align-center fs-14 c-black radius-6 p-10" href="accueil.html">
            <i class="bi bi-cake"></i>
            <span>Website</span>
          </a>
        </li>
        <li>
            <a id="logoutLink" class="d-flex align-center fs-14 c-black radius-6 p-10" href="#">
                <i class="bi bi-box-arrow-right"></i>
                <span>Log Out</span>
            </a>            
        </li>
      </ul>
    </div>
    <!-- End Sidebar -->
    <div class="content w-full hidden">
      <!-- Start Head -->
      <div class="head p-15 between-flex bg-white">
        <div class="search p-relative">
          <input type="search" placeholder="Type A Keyword" class="p-10" ></input>
        </div>
        <div class="icons d-flex align-center">
        
        
           <span class="notification p-relative" style="margin-right: 30px;">
            <i class="bi bi-bell"></i>
          </span> 
          
        </div>
      </div>
      <!-- End Head -->
      <h1 class="p-relative">Admin</h1>
      <!--Debut de la grille des evenements-->
      <div class="plans-page d-grid m-20 gap-20">
        <!--Evenement 1-->
      <div class="plan green bg-white p-20"> 
          <div class="box p-20 "> 
        <h2 class="mt-0 mb-10">Prochain evenement</h2>
        <footer class="mt-0 mb-20 c-grey fs-15" style="color: #AE9775; margin-right: 210px;">
          dans 3 jours
        </footer>
        <div class="box fs-13 c-grey">
            <img class="photoEvent imgevent1" src="images/prochainevent.png" style="width: 40%; height: 50%; object-fit: cover; margin-left: 250px;"/>
          </div>
          <ul class="unstyled-list" style="margin-top: -170px;">
            <li class="eventName"><b>Graduation Party</b></li>
            <li class="placeEvent"><i class="bi bi-geo-alt" style="color: #000;"></i><b> Place:</b> Bejaia</li>
            <li class="dateEvent"><i class="bi bi-calendar" style="color:#000;"></i><b> Date:</b> 25 April 2023</li>
            <li class="hourEvent"> <i class="bi bi-clock" style="color: #000;"></i><b> Heure:</b> A partir de 8h</li>
          </ul>
        <a href=""><button class="btn custom-btn-beige text-blanc" style="width: 150px;">Supprimer</button></a>
        <a href="#" onclick="toggleModificationForm(1); return false;"><button class="btn custom-btn-beige text-blanc" style="width: 150px;">Modifier</button></a>
          </div>
      </div>
      <!--Evenement 2-->
      <div class="plan green bg-white p-20"> 
        <div class="box p-20 "> 
      <h2 class="mt-0 mb-10">Prochain evenement</h2>
      <footer class="mt-0 mb-20 c-grey fs-15" style="color: #AE9775; margin-right: 210px;">
        dans 3 jours
      </footer>
      <div class="box fs-13 c-grey">
          <img class="photoEvent imgevent1" src="images/prochainevent.png" style="width: 40%; height: 50%; object-fit: cover; margin-left: 250px;"/>
        </div>
      <ul class="unstyled-list" style="margin-top: -170px;">
  <li class="eventName"><b>Graduation Party</b></li>
  <li class="placeEvent"><i class="bi bi-geo-alt" style="color: #000;"></i><b> Place:</b> Bejaia</li>
  <li class="dateEvent"><i class="bi bi-calendar" style="color:#000;"></i><b> Date:</b> 25 April 2023</li>
  <li class="hourEvent"> <i class="bi bi-clock" style="color: #000;"></i><b> Heure:</b> A partir de 8h</li>
</ul>
      <a href=""><button class="btn custom-btn-beige text-blanc" style="width: 150px;">Supprimer</button></a>
      <a href="#" onclick="toggleModificationForm(2); return false;"><button class="btn custom-btn-beige text-blanc" style="width: 150px;">Modifier</button></a>
        </div>
    </div>
    <!--Evenement 3-->
    <div class="plan green bg-white p-20"> 
        <div class="box p-20 "> 
      <h2 class="mt-0 mb-10">Prochain evenement</h2>
      <footer class="mt-0 mb-20 c-grey fs-15" style="color: #AE9775; margin-right: 210px;">
        dans 3 jours
      </footer>
      <div class="box fs-13 c-grey">
          <img class="photoEvent imgevent1" src="images/prochainevent.png" style="width: 40%; height: 50%; object-fit: cover; margin-left: 250px;"/>
        </div>
        <ul class="unstyled-list" style="margin-top: -170px;">
            <li class="eventName"><b>Graduation Party</b></li>
            <li class="placeEvent"><i class="bi bi-geo-alt" style="color: #000;"></i><b> Place:</b> Bejaia</li>
            <li class="dateEvent"><i class="bi bi-calendar" style="color:#000;"></i><b> Date:</b> 25 April 2023</li>
            <li class="hourEvent"> <i class="bi bi-clock" style="color: #000;"></i><b> Heure:</b> A partir de 8h</li>
          </ul>
      <a href=""><button class="btn custom-btn-beige text-blanc" style="width: 150px;">Supprimer</button></a>
      <a href="#" onclick="toggleModificationForm(3); return false;"><button class="btn custom-btn-beige text-blanc" style="width: 150px;">Modifier</button></a>
        </div>
    </div>
    <div class="plan green bg-white p-20"> 
        <div class="box p-20 "> 
      <h2 class="mt-0 mb-10">Prochain evenement</h2>
      <footer class="mt-0 mb-20 c-grey fs-15" style="color: #AE9775; margin-right: 210px;">
        dans 3 jours
      </footer>
      <div class="box fs-13 c-grey">
          <img class="photoEvent imgevent1" src="images/prochainevent.png" style="width: 40%; height: 50%; object-fit: cover; margin-left: 250px;"/>
        </div>
      <ul class="unstyled-list" style="margin-top: -170px;">
  <li class="eventName"><b>Graduation Party</b></li>
  <li class="placeEvent"><i class="bi bi-geo-alt" style="color: #000;"></i><b> Place:</b> Bejaia</li>
  <li class="dateEvent"><i class="bi bi-calendar" style="color:#000;"></i><b> Date:</b> 25 April 2023</li>
  <li class="hourEvent"> <i class="bi bi-clock" style="color: #000;"></i><b> Heure:</b> A partir de 8h</li>
</ul>
      <button class="btn custom-btn-beige text-blanc" style="width: 150px;">Supprimer</button>
      <a href="#" onclick="toggleModificationForm(4); return false;"><button class="btn custom-btn-beige text-blanc" style="width: 150px;">Modifier</button></a>
        </div>
    </div>

    
    <div id="modificationForm1" class="modification-form">
        <!-- Your modification form fields go here -->
        <form>
            Photo Event: <input type="file" name="photoEvent"><br>
            Date Event: <input type="date" name="dateEvent"><br>
            Hour Event: <input type="text" name="hourEvent"><br>
            Name Event: <input type="text" name="nameEvent"><br>
            Type Event: <input type="text" name="typeEvent"><br>
            <button type="button" onclick="saveModification(1)">Save</button>
        </form>
    </div>
    
    <!-- Modification Form for Event 2 -->
    <div id="modificationForm2" class="modification-form">
        <!-- Your modification form fields go here -->
        <form>
            Photo Event: <input type="file" name="photoEvent"><br>
            Date Event: <input type="date" name="dateEvent"><br>
            Hour Event: <input type="text" name="hourEvent"><br>
            Name Event: <input type="text" name="nameEvent"><br>
            Type Event: <input type="text" name="typeEvent"><br>
            <button type="button" onclick="saveModification(2)">Save</button>
        </form>
    </div>

    <div id="modificationForm3" class="modification-form">
        <!-- Your modification form fields go here -->
        <form>
            Photo Event: <input type="file" name="photoEvent"><br>
            Date Event: <input type="date" name="dateEvent"><br>
            Hour Event: <input type="text" name="hourEvent"><br>
            Name Event: <input type="text" name="nameEvent"><br>
            Type Event: <input type="text" name="typeEvent"><br>
            <button type="button" onclick="saveModification(3)">Save</button>
        </form>
    </div>

    <div id="modificationForm4" class="modification-form">
        <!-- Your modification form fields go here -->
        <form>
            Photo Event: <input type="file" name="photoEvent"><br>
            Date Event: <input type="date" name="dateEvent"><br>
            Hour Event: <input type="text" name="hourEvent"><br>
            Name Event: <input type="text" name="nameEvent"><br>
            Type Event: <input type="text" name="typeEvent"><br>
            <button type="button" onclick="saveModification(4)">Save</button>
        </form>
    </div>

    
      </div>
     <!-- Start Project Table -->
     <div class="projects widget-style m-20">
      <h2 class="mt-0 mb-20">Events</h2>
      <div >
        <table class="fs-15 w-full">
            <tbody>
                <tr class="attributesEvent">
  <td class="eventName">Graduation Party</td>
  <td class="typeEvent">Graduation</td>
  <td class="placeEvent">Bejaia</td>
  <td class="dateEvent">25 April 2023</td>
  <td class="hourEvent">13h</td>
  <td>
    <span class="descEvent description-truncated">
      Description de l'événement très longue qui sera tronquée initialement.
    </span>
  </td>
  <td id="photoEvent">  <img src="images/prochainevent.png" alt=""> </td>
 
  <td class="options">
  <span class="popup-btn">
    <i class="bi bi-pencil" style="margin-right: 10px;" onclick="modifyRow(this)"></i>
    <i class="bi bi-trash3" onclick="deleteRow(this)"></i>
  </span>
  <div class="overlay"></div>
</td>

</tr>
                 <tr class="attributesEvent">
  <td class="eventName">Graduation Party</td>
  <td class="typeEvent">Graduation</td>
  <td class="placeEvent">Bejaia</td>
  <td class="dateEvent">25 April 2023</td>
  <td class="hourEvent">13h</td>
  <td>
    <span class="descEvent description-truncated">
      Description de l'événement très longue qui sera tronquée initialement.
    </span>
  </td>
  <td id="photoEvent">  <img src="images/prochainevent.png" alt=""> </td>
  <td class="options">
  <span class="popup-btn">
    <i class="bi bi-pencil" style="margin-right: 10px;" onclick="modifyRow(this)"></i>
    <i class="bi bi-trash3" onclick="deleteRow(this)"></i>
  </span>
  <div class="overlay"></div>
</td>

</tr>
<tr class="attributesEvent">
  <td class="eventName">Graduation Party</td>
  <td class="typeEvent">Graduation</td>
  <td class="placeEvent">Bejaia</td>
  <td class="dateEvent">25 April 2023</td>
  <td class="hourEvent">13h</td>
  <td>
    <span class="descEvent description-truncated">
      Description de l'événement très longue qui sera tronquée initialement.
    </span>
  </td>
  <td id="photoEvent">  <img src="images/prochainevent.png" alt=""> </td>
  <td class="options">
  <span class="popup-btn">
    <i class="bi bi-pencil" style="margin-right: 10px;" onclick="modifyRow(this)"></i>
    <i class="bi bi-trash3" onclick="deleteRow(this)"></i>
  </span>
  <div class="overlay"></div>
</td>

</tr>
                 <tr class="attributesEvent">
  <td class="eventName">Graduation Party</td>
  <td class="typeEvent">Graduation</td>
  <td class="placeEvent">Bejaia</td>
  <td class="dateEvent">25 April 2023</td>
  <td class="hourEvent">13h</td>
  <td>
    <span class="descEvent description-truncated">
      Description de l'événement très longue qui sera tronquée initialement.
    </span>
  </td>
  <td id="photoEvent">  <img src="images/prochainevent.png" alt=""> </td>
  <td class="options">
  <span class="popup-btn">
    <i class="bi bi-pencil" style="margin-right: 10px;" onclick="modifyRow(this)"></i>
    <i class="bi bi-trash3" onclick="deleteRow(this)"></i>
  </span>
  <div class="overlay"></div>
</td>

</tr>
<tr class="attributesEvent">
  <td class="eventName">Graduation Party</td>
  <td class="typeEvent">Graduation</td>
  <td class="placeEvent">Bejaia</td>
  <td class="dateEvent">25 April 2023</td>
  <td class="hourEvent">13h</td>
  <td>
    <span class="descEvent description-truncated">
      Description de l'événement très longue qui sera tronquée initialement.
    </span>
  </td>
  <td id="photoEvent">  <img src="images/prochainevent.png" alt=""> </td>
  <td class="options">
    <span class="popup-btn">
      <i class="bi bi-pencil" style="margin-right: 10px;" onclick="modifyRow(this)"></i>
      <i class="bi bi-trash3" onclick="deleteRow(this)"></i>
    </span>
    <div class="overlay"></div>
  </td>
  
</tr>          </tbody>
        </table>
      </div>
      <div class="demo">
        <nav class="pagination-outer" aria-label="Page navigation">
            <ul class="pagination">
                <li class="page-item">
                    <a href="#" class="page-link" aria-label="Previous">
                        <span aria-hidden="true">«</span>
                    </a>
                </li>
                <li class="page-item"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item"><a class="page-link" href="#">4</a></li>
                <li class="page-item"><a class="page-link" href="#">5</a></li>
                <li class="page-item">
                    <a href="#" class="page-link" aria-label="Next">
                        <span aria-hidden="true">»</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
    <div id="modifyForm" style="display: none;">
        <h3>Modifier l'événement</h3>
        <form onsubmit="submitModifyForm(); return false;">
            <!-- Ajoutez des champs pour les attributs de l'événement (par exemple, input, select, etc.) -->
            <input type="text" id="modifyEventName" placeholder="Event's Name">
            <input type="text" id="modifyTypeEvent" placeholder="Event's Type">
            <input type="text" id="modifyPlaceEvent" placeholder="Event's Place">
            <input type="date" id="modifyDateEvent" placeholder="Event's Date ">
            <input type="text" id="modifyHourEvent" placeholder="Event's Hour">
            <input type="file" id="modifyPhotoEvent" accept="image/*">
            <!-- Ajoutez d'autres champs selon vos besoins -->
            <button type="submit">Modifier</button>
        </form>
    </div>
    </div>
    <!-- End Project Table -->
    
    </div>
  </div>


<!--Fonctions JavaScript-->

<!--Fonctions JavaScript-->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0.0/jquery.counterup.min.js"></script>

<script>
    var currentRow; // Stocker la ligne actuelle pour la modification

    function modifyRow(icon) {
        // Trouver la ligne parente de l'icône
        currentRow = icon.closest('.attributesEvent');

        // Récupérer les données de la ligne
        var eventName = currentRow.querySelector('.eventName').textContent;
        var typeEvent = currentRow.querySelector('.typeEvent').textContent;
        var placeEvent = currentRow.querySelector('.placeEvent').textContent;
        var dateEvent = currentRow.querySelector('.dateEvent').textContent;
        var hourEvent = currentRow.querySelector('.hourEvent').textContent;
        // Ajoutez d'autres variables selon vos besoins

        // Remplir le formulaire de modification avec les données actuelles
        document.getElementById('modifyEventName').value = eventName;
        document.getElementById('modifyTypeEvent').value = typeEvent;
        document.getElementById('modifyPlaceEvent').value = placeEvent;
        document.getElementById('modifyDateEvent').value = dateEvent;
        document.getElementById('modifyHourEvent').value = hourEvent;
        // Remplissez d'autres champs selon vos besoins

        // Afficher le formulaire de modification
        document.getElementById('modifyForm').style.display = 'block';
    }

    function deleteRow(icon) {
        // Trouver la ligne parente de l'icône
        var row = icon.closest('.attributesEvent');

        // Supprimer la ligne du tableau
        if (row) {
            row.parentNode.removeChild(row);
            //updatePagination(); // N'oubliez pas d'ajuster la fonction de pagination si nécessaire
        }
    }

    function submitModifyForm() {
        // Récupérer les valeurs modifiées depuis le formulaire
        var modifiedEventName = document.getElementById('modifyEventName').value;
        var modifiedTypeEvent = document.getElementById('modifyTypeEvent').value;
        var modifiedPlaceEvent = document.getElementById('modifyPlaceEvent').value;
        var modifiedDateEvent = document.getElementById('modifyDateEvent').value;
        var modifiedHourEvent = document.getElementById('modifyHourEvent').value;
        var modifiedPhotoEvent = document.getElementById('previewPhoto').src;
        // Récupérez d'autres valeurs selon vos besoins

        // Mettez à jour la ligne avec les nouvelles valeurs
        currentRow.querySelector('.eventName').textContent = modifiedEventName;
        currentRow.querySelector('.typeEvent').textContent = modifiedTypeEvent;
        currentRow.querySelector('.placeEvent').textContent = modifiedPlaceEvent;
        currentRow.querySelector('.dateEvent').textContent = modifiedDateEvent;
        currentRow.querySelector('.hourEvent').textContent = modifiedHourEvent;
        currentRow.querySelector('#photoEvent img').src = modifiedPhotoEvent;
        // Mettez à jour d'autres éléments selon vos besoins

        // Cacher le formulaire de modification
        document.getElementById('modifyForm').style.display = 'none';
    }

    function previewPhoto() {
        // Afficher l'aperçu de la photo sélectionnée
        var input = document.getElementById('modifyPhotoEvent');
        var preview = document.getElementById('previewPhoto');
        var file = input.files[0];
        var reader = new FileReader();

        reader.onloadend = function () {
            preview.src = reader.result;
        };

        if (file) {
            reader.readAsDataURL(file);
        } else {
            preview.src = "";
        }
    }

    // Fonction pour gérer la déconnexion
    var logoutLink = document.getElementById('logoutLink');

    logoutLink.addEventListener('click', function (event) {
        event.preventDefault();
        // Mettez ici le code pour gérer la déconnexion
        // Par exemple, redirigez l'utilisateur vers la page de connexion
        window.location.href = 'login.html';
        alert('Vous êtes déconnecté !');
    });

    document.addEventListener('DOMContentLoaded', function () {
        var descTruncated = document.querySelectorAll('.descEvent.description-truncated');

        descTruncated.forEach(function (desc) {
            desc.addEventListener('click', function () {
                // Basculer entre les classes pour afficher ou masquer le texte complet
                desc.classList.toggle('description-truncated');
                desc.classList.toggle('description-full');
            });
        });
    });
    document.addEventListener("DOMContentLoaded", function() {
        var modificationForms = document.querySelectorAll(".modification-form");
        for (var i = 0; i < modificationForms.length; i++) {
            modificationForms[i].style.display = "none";
        }
    });

    function toggleModificationForm(eventNumber) {
        var modificationForm = document.getElementById("modificationForm" + eventNumber);
        modificationForm.style.display = (modificationForm.style.display === "none") ? "block" : "none";
    }

    function saveModification(eventNumber) {
        var modificationForm = document.getElementById("modificationForm" + eventNumber);

        // Récupérez les valeurs des nouveaux champs
        var photoEvent = modificationForm.querySelector('input[name="photoEvent"]').files[0];
        var dateEvent = modificationForm.querySelector('input[name="dateEvent"]').value;
        var hourEvent = modificationForm.querySelector('input[name="hourEvent"]').value;
        var nameEvent = modificationForm.querySelector('input[name="nameEvent"]').value;
        var typeEvent = modificationForm.querySelector('input[name="typeEvent"]').value;

        // Vous pouvez maintenant utiliser ces valeurs comme vous le souhaitez
        console.log("Photo Event: ", photoEvent);
        console.log("Date Event: ", dateEvent);
        console.log("Hour Event: ", hourEvent);
        console.log("Name Event: ", nameEvent);
        console.log("Type Event: ", typeEvent);

        // Implémentez ici la logique pour enregistrer les modifications, y compris le traitement du fichier image côté serveur si nécessaire

        // Enfin, masquez le formulaire de modification
        modificationForm.style.display = "none";
    }

</script>

</body>

</html>